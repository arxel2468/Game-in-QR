const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),boxSize=20;let snake=[{x:200,y:200}],direction={x:20,y:0},food={x:20*Math.floor(20*Math.random()),y:20*Math.floor(20*Math.random())},score=0;function gameLoop(){let e={x:snake[0].x+direction.x,y:snake[0].y+direction.y};snake.unshift(e),e.x===food.x&&e.y===food.y?(score+=10,food={x:20*Math.floor(20*Math.random()),y:20*Math.floor(20*Math.random())}):snake.pop(),(e.x<0||e.y<0||e.x>=canvas.width||e.y>=canvas.height||snake.slice(1).some(o=>o.x===e.x&&o.y===e.y))&&(clearInterval(game),alert(`Game Over! Your score: ${score}`)),drawGame()}function drawGame(){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="red",ctx.fillRect(food.x,food.y,20,20),ctx.fillStyle="green",snake.forEach(e=>ctx.fillRect(e.x,e.y,20,20))}document.addEventListener("keydown",e=>{"ArrowUp"===e.key&&0===direction.y?direction={x:0,y:-20}:"ArrowDown"===e.key&&0===direction.y?direction={x:0,y:20}:"ArrowLeft"===e.key&&0===direction.x?direction={x:-20,y:0}:"ArrowRight"===e.key&&0===direction.x&&(direction={x:20,y:0})});const game=setInterval(gameLoop,100);